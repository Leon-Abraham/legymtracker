{% extends "base.html" %}

{% block title %}Dashboard – GymTracker{% endblock %}

{% block content %}
<div class="dashboard-header">
  <h1>Dashboard</h1>
  <p>Hello, <strong>{{ username }}</strong>. Here’s your gym attendance at a glance.</p>
</div>

<div class="stats-row">
  <div class="stat-card">
    <div class="value">{{ total_workouts }}</div>
    <div class="label">Total workouts (all time)</div>
  </div>
  <div class="stat-card green">
    <div class="value">{{ this_month_count }}</div>
    <div class="label">Workouts this month</div>
  </div>
</div>

<!-- New Section for Payment Info -->
<div class="payment-info">
  <div class="stat-card">
    <div class="value">{{ last_payment_date if last_payment_date != 'None' else 'No payment recorded' }}</div>
    <div class="label">Last payment</div>
  </div>
  <div class="stat-card">
    <div class="value">{{ expiry_date if expiry_date != 'None' else 'No expiry date' }}</div>
    <div class="label">Expiry date</div>
  </div>
</div>


<div class="motivation-card">
  {% if this_month_count > 0 %}
  <h2>Great job!</h2>
  <p>You’ve hit the gym {{ this_month_count }} time{{ 's' if this_month_count != 1 else '' }} this month. Keep pushing!</p>
  {% else %}
  <h2>Ready to start?</h2>
  <p>Log your first workout of the month and build the habit. You’ve got this!</p>
  {% endif %}
</div>

<div class="actions">
  <a href="{{ url_for('log_workout') }}" class="btn btn-primary">Log a workout</a>
  <a href="{{ url_for('progress') }}" class="btn btn-secondary">View progress</a>
  <a href="{{ url_for('update_payment') }}" class="btn btn-outline">Update Payment</a>
</div>
{% endblock %}

{% block extra_css %}
<style>
  .dashboard-container {
    width: 90%;  /* Reduced the width */
    max-width: 1200px;  /* Limit the maximum size */
    margin: 0 auto;  /* Centering the dashboard */
    padding: 2rem;
    background: #fff;
    border-radius: 12px;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
  }
  
  .dashboard-header h1 {
    font-size: 2rem;
    color: #FF5722;
    margin-bottom: 1rem;
  }

  .stats-row {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
    gap: 1rem;
    margin-bottom: 2rem;
  }

  .stat-card {
    background: #f8f9fa;
    padding: 1.5rem;
    border-radius: 12px;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
    text-align: center;
  }

  .stat-card.green {
    background: #e8f5e9;
    border-left: 4px solid #4CAF50;
  }

  .btn {
    display: inline-block;
    padding: 0.75rem 1.5rem;
    border-radius: 8px;
    font-weight: 600;
    text-decoration: none;
    margin-top: 1rem;
  }

  .btn-primary {
    background-color: #FF5722;
    color: #fff;
  }

  .btn-outline {
    background-color: #ECEFF1;
    color: #37474F;
  }
</style>
{% endblock %}
